<!DOCTYPE html>
<html>
<head>
    <meta charset="ISO-8859-1">
    <title>Arrays</title>
    <script type="text/javascript">
        //Los arrays son una colecciÛn ordenada de elementos
        //los arrays en JS SON OBJETOS

        //Hay varias maneras de crear arrays en JS
        let array1 = []//array vacÌo
        let array2 = [1,2,3,4,5]//array con datos
        //Esta es la manera de inicializar, pero luego podemos agregar todos
        //los elementos que queramos.

        //los arrays pueden tener cualquier valor
        let array3 = [1,2,3,4,5,true,"pepe",null, new Date()]

        //Los arrays en JS se pueden usar de 2 maneras diferentes
        //1- Manera indexada -> Array de elementos ordenados, tienen un √≠ndice y un valor
        //2- Manera asociativa -> Serian equivalente a los mapas de java o diccionarios o Python

        //INDEXADOS 
        //tienen un √≠ndice autom√°tico que empieza por 0
        console.log("----------- ARRAYS INDEXADOS ----------------")
        array1[0] = 10
        array1[1] = 20
        array1[2] = 30

        //obtener el valor a traves del √≠ndice
        let valor = array1[0]//10
        //Si nos pasamos de rango, undefined
        let valor2 = array1[2000]
        console.log(valor2)//undefined

        //los arrays son objetos y como tales tienen propiedades
        //Con 'length' podemos saber el tama√±o de un array indexado, no valdr√≠a para 
        //los arrays asociativos (ver m√°s adelante)
        console.log(array1.length)//ojo esto es para indexados

        //Podemos agregar valores con la funci√≥n 'push'
        let array4 = []
        array4.push("A")//add al final. Equivalente al m√©todo 'add' de java
        array4.push("B")
        array4.push("C")
        array4.push("D","E","F")

        console.log(array4)//A,B,C,D,E,F

        //Podemos eliminar el primer elemento de un array (Colas, estructura FIFO) con 'shift'
        console.log(array4.shift());//sacamos y el primer elemento que introdujimos -> "A"
        console.log(array4)//B,C,D,E,F

        //Podemos eliminar el √∫ltimo elemento de un array (Pilas, estructura LIFO) con 'pop'
        console.log(array4.pop());//sacamos el √∫ltimo elemento que introdujimos -> "F"
        console.log(array4)//B,C,D,E

        //Podemos eliminar un elemento concreto con la funci√≥n 'splice'.
        //El primer valor es desde donde queremos empezar, el segundo el n√∫mero de elementos a eliminar
        console.log(array4.splice(1,1))//elimminamos la 'C'
        console.log(array4)//B,D,E
        console.log(array4.splice(1,2))//elimminamos 'D' y 'E'
        console.log(array4)//B

        /* JOIN */
        //unir en una cadena todos los elementos de un array
        var array = ["hola", "usuario"];
        var mensaje = array.join(""); // mensaje = "holausuario"
        mensaje = array.join(" ");    // mensaje = "hola usuario"
        mensaje = array.join("-");    // mensaje = "hola-usuario"

        /* REVERSE */
        //Da la vuelta al array
        var array = [1, 2, 3, 4];
        console.log("Array al reves " + array.reverse());   // array = [4, 3, 2, 1]
        console.log("---------------------------")

        
        //Arrays asociativos (Estructuras de tipo hash o diccionarios)
        //No est√°n indexados, es decir, no hay un indice que diga la posici√≥n
        //Colecci√≥n de duplas en clave-valor
        //Una sola clave, la clave es √∫nica, no se puede repetir. Si se repite, se cambia el valor
        //La clave y el valor son objetos de cualquier tipo

        //Tambi√©n podemos usar objetos Map()
        //https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map

        console.log("----------- ARRAYS ASOCIATIVOS ----------------")
        let cervezas = []
        //clave -> Mahou (marca) - Valor --> 4.8 (grados)
        cervezas["Mahou"] = "4.8"
        cervezas["San miguel"] = "4.6"
        cervezas["Guinness"] = "5.1"

        //Accedemos siempre a trav√©s de la clave
        console.log(cervezas["Mahou"])// 4.8

        //Para eliminar un elemento podemos usar 'delete'
        delete cervezas["San miguel"]
        console.log("Cerveza Eliminada: " + cervezas["San Miguel"])
        console.log("Cerveza Existiendo: " + cervezas["Mahou"])
        console.log(cervezas)

        //Recorriendo arrays
        var dias = ["Lunes", "Martes", "Mi√©rcoles", "Jueves", "Viernes", "S√°bado", "Domingo"];
        console.log("FOR CLASICO")
        for (let i = 0; i < dias.length; i++) {
            console.log(dias[i]);//Mostrar√° cada uno de los d√≠a de la semana en cada vuelta.
        }

        //ESTRUCTURA FOR-IN, ideal para recorrer √≠ndices o claves de un array
        console.log("FOR IN: Array indexado")
        for (let indice in dias) {
            console.log("indice: " + indice + " valor: " + dias[indice]);//Mostrar√≠a los d√≠as de la semana
        }

        console.log("FOR IN: Array asociativo")
        for(let clave in cervezas){
            console.log(clave + ":" + cervezas[clave])//clave - valor
        }

        //Para arrays indexados podemos usar FOR-OF (equivalente al for-each de java)
        //Ahora nos devuelve el valor del objeto en vez de el √≠ndice
        console.log("FOR OF")
        array2 = [1,2,3,4,5]
        for(let numero of array2){//n√≥tese la diferencia de poner "in" o poner "of"
            console.log(numero)
        }



        //INTRODUCCI√ìN A LOS OBJETOS EN JS
        //Los objetos en JS son arrays asociativos
        console.log("----------- ARRAYS ASOCIATIVOS (OBJETOS) ----------------")
        let persona = []
        persona["nombre"] = "Oliver Atom"
        persona["pais"] = "JapÛn"
        persona["telefono"] = "555445678"

        //Accedemos a los valores trav√©s de la clave
        let nombre = persona["nombre"]
        //O con '.' y la clave. N√≥tese como recuerda las propiedades de los objetos
        nombre = persona.nombre//equivalente a 'let nombre = persona["nombre"]'
        let pais = persona.pais
        let telefono = persona.telefono
        let tacata = persona.tacata //undefined

        console.log(nombre + " " + pais + " " + telefono + " " + tacata);

        //podemos operar con arrays asociativos directamente con '.'
        let coche = []
        coche.marca = "Renault"//coche["marca"] = "Ranault"
        coche.modelo = "207"
        coche.matricula = "CWX9876"
        console.log(coche)

        //Tambi√©n podemos trabajar con notaci√≥n JSON 
        let pelicula = {
            "titulo" : "Avenger: End Game",
            directores : "Anthony y Joe Russo",
            anio : 1999
        }

        //podemos add atributos sin necesidad de declararlos
        pelicula.actor = "ROBERT DOWNEY JR."//pelicula["actor"] = "ROBERT DOWNEY JR."

        console.log(pelicula)

        //Podemos crear m√©todos, como los objetos en java
        let cliente = {
            nombre : "Bender Bending Rodriguez",
            direccion : "NYC",
            saludar : function(){
                console.log(cliente.nombre + " : Besa mi brillante carcasa met·lica")
            },
            saludarConNombre : function (nombre) {
            	console.log("Besa mi brillante carcasa met·lica, tu: " + nombre)
			}
        }

        console.log(cliente.nombre)
        console.log(cliente.direccion)
        console.log(cliente.saludar)//As√≠ no se ejecuta el m√©todo, te imprime la funci√≥n
        cliente.saludar()//Con par√©ntesis ejecutar√≠amos la funci√≥n  
        cliente.saludarConNombre("Pepe")      
        
        let cliente2 = {
           nombre : "Homer simpson",
           direccion : "Springfield",
           saludar : function(){
               console.log(cliente2.nombre + " : Besa mi brillante carcasa met·lica")
           },
           saludarConNombre : function (nombre) {
           	console.log("Besa mi brillante carcasa met·lica, tu: " + nombre)
		    }
        }
        
      	cliente2.saludar()
    
    </script>
</head>
<body>
    <h1> Arrays!! Pulsa F12 para ver la consola</h1>
</body>
</html>